{
  "_comment": "This file is generated. Please edit .homeycompose/app.json instead.",
  "id": "no.almli.utilitycost",
  "version": "1.4.9",
  "compatibility": ">=5.0.0",
  "sdk": 3,
  "brandColor": "#167be5",
  "platforms": [
    "local"
  ],
  "name": {
    "en": "Norwegian Utility Bill",
    "no": "Strømregning"
  },
  "description": {
    "en": "Calculate utility and grid costs",
    "no": "Beregn kostnader for strøm og nettleie"
  },
  "category": [
    "tools"
  ],
  "tags": {
    "en": [
      "utility",
      "price",
      "prices",
      "spot",
      "nordpool"
    ],
    "no": [
      "strøm",
      "strømpris",
      "strømpriser",
      "nettleie",
      "spot",
      "nordpool"
    ]
  },
  "permissions": [],
  "api": {
    "fetchPrices": {
      "method": "GET",
      "path": "/prices"
    }
  },
  "images": {
    "small": "/assets/images/small.png",
    "large": "/assets/images/large.png",
    "xlarge": "/assets/images/xlarge.png"
  },
  "author": {
    "name": "Bjørnar Almli",
    "email": "bjornar.almli@gmail.com"
  },
  "contributors": {
    "developers": [
      {
        "name": "Bjørnar Almli",
        "email": "bjornar.almli@gmail.com"
      },
      {
        "name": "Eldar Skjeldestad Åsebø"
      },
      {
        "name": "Morten Stang-Medhus"
      },
      {
        "name": "Victor Pran"
      }
    ]
  },
  "contributing": {
    "donate": {
      "paypal": {
        "username": "bjornaralmli"
      }
    }
  },
  "homeyCommunityTopicId": 56678,
  "flow": {
    "triggers": [
      {
        "id": "grid_capacity_level",
        "highlight": true,
        "title": {
          "en": "New level for grid capacity",
          "no": "Nytt trinn for kapasitetsledd for nettleie"
        },
        "hint": {
          "en": "Triggers when a new level for grid capacity has been reached.",
          "no": "Dette kortet trigges når man har nådd et nytt trinn for kapasitetsledd for nettleie."
        },
        "tokens": [
          {
            "name": "meter_consumption_maxmonth",
            "type": "number",
            "title": {
              "en": "Basis for grid capacity",
              "no": "Grunnlag for kapasitetsledd"
            }
          },
          {
            "name": "grid_capacity_level",
            "type": "number",
            "title": {
              "en": "Level for grid capacity",
              "no": "Trinn for kapasitetsledd"
            }
          }
        ],
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=UtilityCosts"
          }
        ]
      },
      {
        "id": "meter_gridprice_incl_changed",
        "highlight": true,
        "title": {
          "en": "Grid price incl. taxes changed",
          "no": "Nettleiepris inkl. mva og avgifter ble endret"
        },
        "hint": {
          "en": "Triggers when the grid price incl. taxes and surcharges changes.",
          "no": "Dette kortet trigges når nettleiepris inkl. mva og avgifter endres."
        },
        "tokens": [
          {
            "name": "meter_gridprice_incl",
            "type": "number",
            "title": {
              "en": "Price",
              "no": "Pris"
            }
          }
        ],
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=UtilityCosts"
          }
        ]
      },
      {
        "id": "meter_price_excl_changed",
        "highlight": true,
        "title": {
          "en": "Utility price changed",
          "no": "Strømpris eksl. mva ble endret"
        },
        "hint": {
          "en": "Triggers when the utility price changes.",
          "no": "Dette kortet trigges når strømprisen eksl. mva endres."
        },
        "tokens": [
          {
            "name": "meter_price_excl",
            "type": "number",
            "title": {
              "en": "Price",
              "no": "Pris"
            }
          }
        ],
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=UtilityCosts"
          }
        ]
      },
      {
        "id": "meter_price_incl_changed",
        "highlight": true,
        "title": {
          "en": "Utility price incl. taxes changed",
          "no": "Strømpris inkl. mva og påslag ble endret"
        },
        "hint": {
          "en": "Triggers when the utility price incl. taxes and surcharges changes.",
          "no": "Dette kortet trigges når strømprisen inkl. mva og påslag endres."
        },
        "tokens": [
          {
            "name": "meter_price_incl",
            "type": "number",
            "title": {
              "en": "Price",
              "no": "Pris"
            }
          }
        ],
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=UtilityCosts"
          }
        ]
      },
      {
        "id": "meter_price_sum_changed",
        "highlight": true,
        "title": {
          "en": "Sum utility and grid price changed",
          "no": "Sum strøm- og nettleiepris ble endret"
        },
        "hint": {
          "en": "Triggers when the sum of utility and grid price changes.",
          "no": "Dette kortet trigges når sum av strøm- og nettleiepris endres."
        },
        "tokens": [
          {
            "name": "meter_price_sum",
            "type": "number",
            "title": {
              "en": "Sum price",
              "no": "Sum pris"
            }
          }
        ],
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=UtilityCosts"
          }
        ]
      }
    ],
    "conditions": [
      {
        "id": "gridprice_incl_below",
        "title": {
          "en": "Is current grid price incl. taxes !{{below|above}}",
          "no": "Er nettleiepris inkl. mva !{{under|over}}"
        },
        "titleFormatted": {
          "en": "Is current grid price incl. taxes !{{below|above}} [[price]] NOK/kWh",
          "no": "Er nettleiepris inkl. mva !{{under|over}} [[price]] kr/kWh"
        },
        "hint": {
          "en": "Condition to check if the current grid price incl. taxes is below or above a specific value.",
          "no": "For å sjekke om nettleiepris inkl. mva er under eller over en spesifikk pris."
        },
        "args": [
          {
            "name": "price",
            "type": "number",
            "placeholder": {
              "en": "price",
              "no": "Pris"
            }
          },
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=UtilityCosts"
          }
        ]
      },
      {
        "id": "price_incl_below",
        "title": {
          "en": "Is current utility price incl. taxes !{{below|above}}",
          "no": "Er strømpris inkl. mva !{{under|over}}"
        },
        "titleFormatted": {
          "en": "Is current utility price incl. taxes !{{below|above}} [[price]] NOK/kWh",
          "no": "Er strømpris inkl. mva !{{under|over}} [[price]] kr/kWh"
        },
        "hint": {
          "en": "Condition to check if the current utility price incl. taxes and surcharges is below or above a specific value.",
          "no": "For å sjekke om strømpris inkl. mva og påslag er under eller over en spesifikk pris."
        },
        "args": [
          {
            "name": "price",
            "type": "number",
            "placeholder": {
              "en": "price",
              "no": "Pris"
            }
          },
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=UtilityCosts"
          }
        ]
      },
      {
        "id": "sum_current_below",
        "title": {
          "en": "Is current cost !{{below|above}}",
          "no": "Er gjeldende kostnad !{{under|over}}"
        },
        "titleFormatted": {
          "en": "Is current cost !{{below|above}} [[sum_current]] NOK/h",
          "no": "Er gjeldende kostnad !{{under|over}} [[sum_current]] kr/h"
        },
        "hint": {
          "en": "Condition to check if the current cost is below or above a specific value.",
          "no": "For å sjekke om gjeldende kostnad er under eller over en spesifikk kostnad pr. time."
        },
        "args": [
          {
            "name": "sum_current",
            "type": "number",
            "placeholder": {
              "en": "Current cost",
              "no": "Gjeldende kostnad"
            }
          },
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=UtilityCosts|UtilityCostsDevice"
          }
        ]
      }
    ],
    "actions": [
      {
        "id": "meter_power_reset",
        "title": {
          "en": "Reset power meter",
          "no": "Nullstill energimåler"
        },
        "hint": {
          "en": "Reset the accumulated power usage (kWh).",
          "no": "Nullstill energimåleren (kWh)."
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=UtilityCosts|UtilityCostsDevice"
          }
        ]
      },
      {
        "id": "meter_reset_all",
        "title": {
          "en": "Reset all values",
          "no": "Nullstill alle verdier"
        },
        "hint": {
          "en": "NB! This will reset all accumulated values.",
          "no": "NB! Nullstiller alle akkumulerte verdier."
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=UtilityCosts|UtilityCostsDevice"
          }
        ]
      },
      {
        "id": "set_gridcapacity_settings",
        "title": {
          "en": "Update grid capacity settings",
          "no": "Oppdatér innstillinger for nettleie kapasitetsledd"
        },
        "titleFormatted": {
          "en": "Update grid capacity settings to [[gridCapacity0_2]], [[gridCapacity2_5]], [[gridCapacity5_10]], [[gridCapacity10_15]], [[gridCapacity15_20]], [[gridCapacity20_25]]",
          "no": "Oppdatér innstillinger for nettleie kapasitetsledd til [[gridCapacity0_2]], [[gridCapacity2_5]], [[gridCapacity5_10]], [[gridCapacity10_15]], [[gridCapacity15_20]], [[gridCapacity20_25]]"
        },
        "hint": {
          "en": "Update grid capacity settings.",
          "no": "Oppdatér innstillinger for nettleie kapasitetsledd."
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=UtilityCosts"
          },
          {
            "name": "gridCapacity0_2",
            "type": "number",
            "required": false,
            "min": 0,
            "max": 9999,
            "title": {
              "en": "0-2 kW",
              "no": "0-2 kW"
            },
            "placeholder": {
              "en": "kr/month",
              "no": "kr/mnd"
            }
          },
          {
            "name": "gridCapacity2_5",
            "type": "number",
            "required": false,
            "min": 0,
            "max": 9999,
            "title": {
              "en": "2-5 kW",
              "no": "2-5 kW"
            },
            "placeholder": {
              "en": "kr/month",
              "no": "kr/mnd"
            }
          },
          {
            "name": "gridCapacity5_10",
            "type": "number",
            "required": false,
            "min": 0,
            "max": 9999,
            "title": {
              "en": "5-10 kW",
              "no": "5-10 kW"
            },
            "placeholder": {
              "en": "kr/month",
              "no": "kr/mnd"
            }
          },
          {
            "name": "gridCapacity10_15",
            "type": "number",
            "required": false,
            "min": 0,
            "max": 9999,
            "title": {
              "en": "10-15 kW",
              "no": "10-15 kW"
            },
            "placeholder": {
              "en": "kr/month",
              "no": "kr/mnd"
            }
          },
          {
            "name": "gridCapacity15_20",
            "type": "number",
            "required": false,
            "min": 0,
            "max": 9999,
            "title": {
              "en": "15-20 kW",
              "no": "15-20 kW"
            },
            "placeholder": {
              "en": "kr/month",
              "no": "kr/mnd"
            }
          },
          {
            "name": "gridCapacity20_25",
            "type": "number",
            "required": false,
            "min": 0,
            "max": 9999,
            "title": {
              "en": "20-25 kW",
              "no": "20-25 kW"
            },
            "placeholder": {
              "en": "kr/month",
              "no": "kr/mnd"
            }
          }
        ]
      },
      {
        "id": "set_gridenergy_settings",
        "title": {
          "en": "Update grid energy settings",
          "no": "Oppdatér innstillinger for nettleie energiledd"
        },
        "titleFormatted": {
          "en": "Update grid energy settings to [[gridEnergyDay]], [[gridEnergyNight]], [[gridEnergyLowWeekends]]",
          "no": "Oppdatér innstillinger for nettleie energiledd til [[gridEnergyDay]], [[gridEnergyNight]], [[gridEnergyLowWeekends]]"
        },
        "hint": {
          "en": "Update grid energy settings.",
          "no": "Oppdatér innstillinger for nettleie energiledd."
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=UtilityCosts"
          },
          {
            "name": "gridEnergyDay",
            "type": "number",
            "required": false,
            "min": 0,
            "max": 5,
            "title": {
              "en": "Day",
              "no": "Dagtid"
            },
            "placeholder": {
              "en": "kr/kWh",
              "no": "kr/kWh"
            }
          },
          {
            "name": "gridEnergyNight",
            "type": "number",
            "required": false,
            "min": 0,
            "max": 5,
            "title": {
              "en": "Night and weekends",
              "no": "Natt og helg"
            },
            "placeholder": {
              "en": "kr/kWh",
              "no": "kr/kWh"
            }
          },
          {
            "name": "gridEnergyLowWeekends",
            "type": "dropdown",
            "required": false,
            "title": {
              "en": "Low price weekends",
              "no": "Lav pris i helgene"
            },
            "values": [
              {
                "id": "false",
                "label": {
                  "en": "No",
                  "no": "Nei"
                }
              },
              {
                "id": "true",
                "label": {
                  "en": "Yes",
                  "no": "Ja"
                }
              }
            ]
          }
        ]
      },
      {
        "id": "set_utility_costs_settings",
        "title": {
          "en": "Update utility costs settings",
          "no": "Oppdatér innstillinger for strømkostnader"
        },
        "titleFormatted": {
          "en": "Update utility costs settings to [[costFormula]], [[costFormulaFixedAmount]]",
          "no": "Oppdatér innstillinger for strømkostnader til [[costFormula]], [[costFormulaFixedAmount]]"
        },
        "hint": {
          "en": "Update utility costs settings.",
          "no": "Oppdatér innstillinger for strømkostnader."
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=UtilityCosts"
          },
          {
            "name": "costFormula",
            "type": "text",
            "required": false,
            "title": {
              "en": "Formula for utility price",
              "no": "Formel for strømpris"
            }
          },
          {
            "name": "costFormulaFixedAmount",
            "type": "text",
            "required": false,
            "title": {
              "en": "Fixed monthly utility cost",
              "no": "Månedlig fastbeløp for strøm"
            }
          }
        ]
      },
      {
        "id": "update_consumption",
        "title": {
          "en": "Update consumption (W)",
          "no": "Oppdatér forbruk (W)"
        },
        "titleFormatted": {
          "en": "Update consumption with [[consumption]] W",
          "no": "Oppdatér forbruk med [[consumption]] W"
        },
        "hint": {
          "en": "Update with the power (W) from a power meter. Use this flow or the 'Update energy with X kWh' action card, but not both. ",
          "no": "Oppdatér med effekt (W) fra en forbruksmåler. Bruk dette kortet eller 'Oppdatér energi med X kWh', men ikke begge. "
        },
        "highlight": true,
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=UtilityCosts|UtilityCostsDevice"
          },
          {
            "name": "consumption",
            "type": "number",
            "title": {
              "en": "Power (W)",
              "no": "Effekt (W)"
            },
            "placeholder": {
              "en": "Watt",
              "no": "Watt"
            }
          }
        ]
      },
      {
        "id": "update_energy",
        "title": {
          "en": "Update energy (kWh)",
          "no": "Oppdatér energi (kWh)"
        },
        "titleFormatted": {
          "en": "Update energy with [[energy]] kWh",
          "no": "Oppdatér energi med [[energy]] kWh"
        },
        "hint": {
          "en": "Update with the energy (kWh) from a power meter. Use this flow or the 'Update consumption with X W' action card, but not both. ",
          "no": "Oppdatér med energi (kWh) fra en forbruksmåler. Bruk dette kortet eller 'Oppdatér forbruk med X W', men ikke begge. "
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=UtilityCosts|UtilityCostsDevice"
          },
          {
            "name": "energy",
            "type": "number",
            "title": {
              "en": "Energy (kWh)",
              "no": "Energi (kWh)"
            },
            "placeholder": {
              "en": "kWh",
              "no": "kWh"
            }
          }
        ]
      },
      {
        "id": "update_price",
        "title": {
          "en": "Update price",
          "no": "Oppdatér pris"
        },
        "titleFormatted": {
          "en": "Update price with [[price]]",
          "no": "Oppdatér pris med [[price]]"
        },
        "hint": {
          "en": "Update with the price from a price source.",
          "no": "Oppdatér endring i pris fra en priskilde."
        },
        "highlight": true,
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=UtilityCosts"
          },
          {
            "name": "price",
            "type": "number",
            "title": {
              "en": "Price incl. taxes and surcharges (kr/kWh)",
              "no": "Pris inkl. mva og påslag (kr/kWh)"
            },
            "placeholder": {
              "en": "kr/kWh",
              "no": "kr/kWh"
            }
          }
        ]
      }
    ]
  },
  "drivers": [
    {
      "icon": "/drivers/UtilityCosts/assets/icon.svg",
      "images": {
        "large": "/drivers/UtilityCosts/assets/images/large.png",
        "small": "/drivers/UtilityCosts/assets/images/small.png"
      },
      "class": "other",
      "capabilities": [
        "meter_sum_current",
        "meter_sum_month",
        "meter_price_excl",
        "meter_price_incl",
        "meter_gridprice_incl",
        "meter_cost_today",
        "meter_grid_today",
        "meter_cost_yesterday",
        "meter_grid_yesterday",
        "meter_cost_month",
        "meter_grid_month",
        "meter_cost_lastmonth",
        "meter_grid_lastmonth",
        "meter_consumption_hour",
        "meter_consumption_maxmonth",
        "meter_sum_day",
        "meter_sum_year",
        "meter_cost_year",
        "meter_grid_year",
        "meter_consumption",
        "meter_price_sum",
        "meter_power.acc",
        "meter_power.year",
        "meter_energy"
      ],
      "capabilitiesOptions": {
        "meter_price_incl": {
          "decimals": 5
        },
        "meter_gridprice_incl": {
          "decimals": 5
        },
        "meter_price_excl": {
          "decimals": 5
        },
        "meter_price_sum": {
          "decimals": 5
        },
        "meter_power.acc": {
          "title": {
            "en": "Energy",
            "no": "Energi"
          }
        },
        "meter_power.year": {
          "title": {
            "en": "Energy this year",
            "no": "Energi dette året"
          }
        }
      },
      "pair": [
        {
          "id": "list_devices",
          "template": "list_devices",
          "navigation": {
            "next": "add_my_devices"
          }
        },
        {
          "id": "add_my_devices",
          "template": "add_devices"
        }
      ],
      "id": "UtilityCosts",
      "name": {
        "en": "Utility Bill",
        "no": "Strømregning"
      },
      "settings": [
        {
          "type": "group",
          "label": {
            "en": "Utility costs",
            "no": "Strømkostnader"
          },
          "children": [
            {
              "id": "priceCalcMethod",
              "type": "dropdown",
              "label": {
                "en": "Price calculation",
                "no": "Prisberegning"
              },
              "value": "nordpool_spot",
              "hint": {
                "en": "Method for calculating the utility price.  Select 'Spot' for spot, and edit the 'Formula for utility price' to add taxes and surcharges.  Select 'Fixed price' for fixed price agreements, and edit the 'Formula for utility price' for the price.  Select 'From flow' if the price comes from a price source, eg. Tibber. ",
                "no": "Metode for å beregne strømprisen.  Velg 'Spotpris' for spotprisavtaler, og editer 'Formel for strømpris' for å legge på mva og påslag.  Velg 'Fastpris' for fastpris, og legg inn prisen i 'Formel for strømpris'.  Velg 'Fra flow' hvis prisen kommer fra en priskilde, f.eks. Tibber. "
              },
              "values": [
                {
                  "id": "nordpool_spot",
                  "label": {
                    "en": "Spot",
                    "no": "Spotpris"
                  }
                },
                {
                  "id": "fixed",
                  "label": {
                    "en": "Fixed price",
                    "no": "Fastpris"
                  }
                },
                {
                  "id": "flow",
                  "label": {
                    "en": "From flow",
                    "no": "Fra flow"
                  }
                }
              ]
            },
            {
              "id": "priceArea",
              "type": "dropdown",
              "label": {
                "en": "Price area",
                "no": "Prisområde"
              },
              "value": "Oslo",
              "hint": {
                "en": "Nordpool price area.",
                "no": "Prisområde for Nordpool spotpris."
              },
              "values": [
                {
                  "id": "Oslo",
                  "label": {
                    "en": "Sørøst-Norge (NO1)"
                  }
                },
                {
                  "id": "Kr.sand",
                  "label": {
                    "en": "Sørvest-Norge (NO2)"
                  }
                },
                {
                  "id": "Bergen",
                  "label": {
                    "en": "Vest-Norge (NO5)"
                  }
                },
                {
                  "id": "Tr.heim",
                  "label": {
                    "en": "Midt-Norge (NO3)"
                  }
                },
                {
                  "id": "Tromsø",
                  "label": {
                    "en": "Nord-Norge (NO4)"
                  }
                }
              ]
            },
            {
              "id": "costFormula",
              "type": "text",
              "label": {
                "en": "Formula for utility price",
                "no": "Formel for strømpris"
              },
              "value": "PRICE_NORDPOOL * 1.25 + 0.0299",
              "hint": {
                "en": "Formula to calculate hourly price incl. taxes and surcharges. Use PRICE_NORDPOOL for the Nordpool spot price. Use MONTHLY_HOURS for number of hours in a month. In NOK/kWh. ",
                "no": "Formel for å beregne strømpris inkl. mva og påslag. Bruk PRICE_NORDPOOL for Nordpool spotpris. Bruk MONTHLY_HOURS for antall timer pr. måned. I kr/kWh. "
              }
            },
            {
              "id": "costFormulaFixedAmount",
              "type": "text",
              "label": {
                "en": "Fixed monthly utility cost",
                "no": "Månedlig fastbeløp for strøm"
              },
              "value": "0",
              "hint": {
                "en": "Formula to calculate the fixed monthly utility cost incl. taxes, which is independent of consumption. In NOK/month. ",
                "no": "Formel for å beregne månedlig fastbeløp for strøm inkl. mva, som uavhengig av forbruk. I kr/mnd. "
              }
            }
          ]
        },
        {
          "type": "group",
          "label": {
            "en": "Grid company",
            "no": "Nettselskap"
          },
          "children": [
            {
              "id": "gridCompany",
              "type": "dropdown",
              "label": {
                "en": "Grid company",
                "no": "Nettselskap"
              },
              "value": "not_set",
              "hint": {
                "en": "Select grid company for simpler registration of grid capacity and grid energy settings.",
                "no": "Velg nettselskap for enklere registering av verdier for kapasitetsledd og energiledd."
              },
              "values": [
                {
                  "id": "not_set",
                  "label": {
                    "en": "-",
                    "no": "-"
                  }
                },
                {
                  "id": "aenett",
                  "label": {
                    "en": "Agder Energi Nett",
                    "no": "Agder Energi Nett"
                  }
                },
                {
                  "id": "bkk",
                  "label": {
                    "en": "BKK Nett AS",
                    "no": "BKK Nett AS"
                  }
                },
                {
                  "id": "elinett",
                  "label": {
                    "en": "Elinett",
                    "no": "Elinett"
                  }
                },
                {
                  "id": "elvia",
                  "label": {
                    "en": "Elvia",
                    "no": "Elvia"
                  }
                },
                {
                  "id": "fagne",
                  "label": {
                    "en": "Fagne",
                    "no": "Fagne"
                  }
                },
                {
                  "id": "glitre",
                  "label": {
                    "en": "Glitre Energi",
                    "no": "Glitre Energi"
                  }
                },
                {
                  "id": "isaltennett",
                  "label": {
                    "en": "ISalten Nett",
                    "no": "ISalten Nett"
                  }
                },
                {
                  "id": "lede",
                  "label": {
                    "en": "Lede",
                    "no": "Lede"
                  }
                },
                {
                  "id": "linea",
                  "label": {
                    "en": "Linea",
                    "no": "Linea"
                  }
                },
                {
                  "id": "linja",
                  "label": {
                    "en": "Linja",
                    "no": "Linja"
                  }
                },
                {
                  "id": "lnett",
                  "label": {
                    "en": "Lnett",
                    "no": "Lnett"
                  }
                },
                {
                  "id": "mellom",
                  "label": {
                    "en": "Mellom",
                    "no": "Mellom"
                  }
                },
                {
                  "id": "midtnett",
                  "label": {
                    "en": "Midtnett",
                    "no": "Midtnett"
                  }
                },
                {
                  "id": "morenett",
                  "label": {
                    "en": "Mørenett",
                    "no": "Mørenett"
                  }
                },
                {
                  "id": "nettselskapet",
                  "label": {
                    "en": "Nettselskapet",
                    "no": "Nettselskapet"
                  }
                },
                {
                  "id": "norgesnett",
                  "label": {
                    "en": "Norgesnett",
                    "no": "Norgesnett"
                  }
                },
                {
                  "id": "tensio",
                  "label": {
                    "en": "Tensio",
                    "no": "Tensio"
                  }
                },
                {
                  "id": "vonett",
                  "label": {
                    "en": "Vonett",
                    "no": "Vonett"
                  }
                }
              ]
            }
          ]
        },
        {
          "type": "group",
          "label": {
            "en": "Grid Capacity",
            "no": "Nettleie kapasitetsledd"
          },
          "children": [
            {
              "id": "gridCapacity0_2",
              "type": "number",
              "label": {
                "en": "0-2 kW",
                "no": "0-2 kW"
              },
              "hint": {
                "en": "Grid capacity 0 - 2 kW incl. taxes.",
                "no": "Kapasitetsledd for nettleie 0 - 2 kW inkl. mva og avgifter."
              },
              "value": 125,
              "min": 0,
              "max": 9999,
              "units": {
                "en": "kr/month",
                "no": "kr/mnd"
              }
            },
            {
              "id": "gridCapacity2_5",
              "type": "number",
              "label": {
                "en": "2-5 kW",
                "no": "2-5 kW"
              },
              "hint": {
                "en": "Grid capacity 2 - 5 kW incl. taxes.",
                "no": "Kapasitetsledd for nettleie 2 - 5 kW inkl. mva og avgifter."
              },
              "value": 206,
              "min": 0,
              "max": 9999,
              "units": {
                "en": "kr/month",
                "no": "kr/mnd"
              }
            },
            {
              "id": "gridCapacity5_10",
              "type": "number",
              "label": {
                "en": "5-10 kW",
                "no": "5-10 kW"
              },
              "hint": {
                "en": "Grid capacity 5 - 10 kW incl. taxes.",
                "no": "Kapasitetsledd for nettleie 5 - 10 kW inkl. mva og avgifter."
              },
              "value": 350,
              "min": 0,
              "max": 9999,
              "units": {
                "en": "kr/month",
                "no": "kr/mnd"
              }
            },
            {
              "id": "gridCapacity10_15",
              "type": "number",
              "label": {
                "en": "10-15 kW",
                "no": "10-15 kW"
              },
              "hint": {
                "en": "Grid capacity 10 - 15 kW incl. taxes.",
                "no": "Kapasitetsledd for nettleie 10 - 15 kW inkl. mva og avgifter."
              },
              "value": 494,
              "min": 0,
              "max": 9999,
              "units": {
                "en": "kr/month",
                "no": "kr/mnd"
              }
            },
            {
              "id": "gridCapacity15_20",
              "type": "number",
              "label": {
                "en": "15-20 kW",
                "no": "15-20 kW"
              },
              "hint": {
                "en": "Grid capacity 15 - 20 kW incl. taxes.",
                "no": "Kapasitetsledd for nettleie 15 - 20 kW inkl. mva og avgifter."
              },
              "value": 638,
              "min": 0,
              "max": 9999,
              "units": {
                "en": "kr/month",
                "no": "kr/mnd"
              }
            },
            {
              "id": "gridCapacity20_25",
              "type": "number",
              "label": {
                "en": "20-25 kW",
                "no": "20-25 kW"
              },
              "hint": {
                "en": "Grid capacity 20 - 25 kW incl. taxes.",
                "no": "Kapasitetsledd for nettleie 20 - 25 kW inkl. mva og avgifter."
              },
              "value": 781,
              "min": 0,
              "max": 9999,
              "units": {
                "en": "kr/month",
                "no": "kr/mnd"
              }
            },
            {
              "id": "gridCapacityAverage",
              "type": "dropdown",
              "label": {
                "en": "Number of hours for average",
                "no": "Antall timer for gjennomsnitt"
              },
              "value": "1",
              "hint": {
                "en": "If grid capacity is calculated based on the average of the hours with highest consumption from different days within a month, then select the number of hours for the average.",
                "no": "Hvis kapasitetsledd beregnes basert på gjennomsnittet av timene med høyest forbruk fra ulike døgn innenfor en måned, så velg antall timer for gjennomsnitt."
              },
              "values": [
                {
                  "id": "1",
                  "label": {
                    "en": "Highest hour",
                    "no": "Høyeste time"
                  }
                },
                {
                  "id": "3",
                  "label": {
                    "en": "Avg. 3 highest hours",
                    "no": "Gj.snitt 3 høyeste timer"
                  }
                }
              ]
            }
          ]
        },
        {
          "type": "group",
          "label": {
            "en": "Grid Energy",
            "no": "Nettleie energiledd"
          },
          "children": [
            {
              "id": "gridEnergyDay",
              "type": "number",
              "label": {
                "en": "Day",
                "no": "Dagtid"
              },
              "hint": {
                "en": "Grid energy price 06:00 - 22:00 per kWh incl. taxes.",
                "no": "Energiledd 06:00 - 22:00 pr. kWh inkl. mva og avgifter."
              },
              "value": 0.499,
              "min": 0,
              "max": 5,
              "units": {
                "en": "kr/kWh",
                "no": "kr/kWh"
              }
            },
            {
              "id": "gridEnergyNight",
              "type": "number",
              "label": {
                "en": "Night and weekends",
                "no": "Natt og helg"
              },
              "hint": {
                "en": "Grid energy price 22:00 - 06:00 and weekends per kWh incl. taxes.",
                "no": "Energiledd 22:00 - 06:00 og helg pr. kWh inkl. mva og avgifter."
              },
              "value": 0.399,
              "min": 0,
              "max": 5,
              "units": {
                "en": "kr/kWh",
                "no": "kr/kWh"
              }
            },
            {
              "id": "gridEnergyLowWeekends",
              "type": "checkbox",
              "label": {
                "en": "Low price weekends",
                "no": "Lav pris i helgene"
              },
              "hint": {
                "en": "Check if the low price is used in weekends.",
                "no": "Velges hvis det er lav pris i helgene."
              },
              "value": true
            }
          ]
        },
        {
          "type": "group",
          "label": {
            "en": "System",
            "no": "System"
          },
          "children": [
            {
              "id": "priceDecimals",
              "type": "dropdown",
              "label": {
                "en": "Number of decimals",
                "no": "Antall desimaler"
              },
              "value": "DEC5",
              "hint": {
                "en": "Number of decimals for prices.",
                "no": "Antall desimaler for priser."
              },
              "values": [
                {
                  "id": "DEC2",
                  "label": {
                    "en": "2 decimals",
                    "no": "2 desimaler"
                  }
                },
                {
                  "id": "DEC5",
                  "label": {
                    "en": "5 decimals",
                    "no": "5 desimaler"
                  }
                }
              ]
            },
            {
              "id": "resetEnergyDaily",
              "type": "checkbox",
              "label": {
                "en": "Reset power meter daily",
                "no": "Nullstill energimåler daglig"
              },
              "hint": {
                "en": "Check if accumulated power meter (Energy) should be reset daily.",
                "no": "Kryss av hvis energimåler (Energi) skal nullstilles daglig."
              },
              "value": true
            }
          ]
        }
      ]
    },
    {
      "icon": "/drivers/UtilityCostsDevice/assets/icon.svg",
      "images": {
        "large": "/drivers/UtilityCostsDevice/assets/images/large.png",
        "small": "/drivers/UtilityCostsDevice/assets/images/small.png"
      },
      "class": "other",
      "capabilities": [
        "meter_sum_current",
        "meter_sum_month",
        "meter_price_excl",
        "meter_price_incl",
        "meter_gridprice_incl",
        "meter_cost_today",
        "meter_grid_today",
        "meter_cost_yesterday",
        "meter_grid_yesterday",
        "meter_cost_month",
        "meter_grid_month",
        "meter_cost_lastmonth",
        "meter_grid_lastmonth",
        "meter_consumption_hour",
        "meter_consumption_maxmonth",
        "meter_sum_day",
        "meter_sum_year",
        "meter_cost_year",
        "meter_grid_year",
        "meter_consumption",
        "meter_price_sum",
        "meter_power.acc",
        "meter_power.year",
        "meter_energy"
      ],
      "capabilitiesOptions": {
        "meter_consumption_maxmonth": {
          "title": {
            "en": "Max. hourly consumption",
            "no": "Maks. forbruk for time"
          },
          "desc": {
            "en": "Maximum consumption for an hour this month.",
            "no": "Maksimum forbruk for en time i gjeldende måned."
          }
        }
      },
      "pair": [
        {
          "id": "list_devices",
          "template": "list_devices",
          "navigation": {
            "next": "add_my_devices"
          }
        },
        {
          "id": "add_my_devices",
          "template": "add_devices"
        }
      ],
      "id": "UtilityCostsDevice",
      "name": {
        "en": "Utility Bill Device",
        "no": "Strømregning Enhet"
      },
      "settings": [
        {
          "type": "group",
          "label": {
            "en": "System",
            "no": "System"
          },
          "children": [
            {
              "id": "priceDecimals",
              "type": "dropdown",
              "label": {
                "en": "Number of decimals",
                "no": "Antall desimaler"
              },
              "value": "DEC5",
              "hint": {
                "en": "Number of decimals for prices.",
                "no": "Antall desimaler for priser."
              },
              "values": [
                {
                  "id": "DEC2",
                  "label": {
                    "en": "2 decimals",
                    "no": "2 desimaler"
                  }
                },
                {
                  "id": "DEC5",
                  "label": {
                    "en": "5 decimals",
                    "no": "5 desimaler"
                  }
                }
              ]
            },
            {
              "id": "resetEnergyDaily",
              "type": "checkbox",
              "label": {
                "en": "Reset power meter daily",
                "no": "Nullstill energimåler daglig"
              },
              "hint": {
                "en": "Check if accumulated power meter (Energy) should be reset daily.",
                "no": "Kryss av hvis energimåler (Energi) skal nullstilles daglig."
              },
              "value": true
            }
          ]
        }
      ]
    }
  ],
  "capabilities": {
    "meter_consumption": {
      "type": "number",
      "title": {
        "en": "Power",
        "no": "Effekt"
      },
      "decimals": 2,
      "units": {
        "en": "W"
      },
      "getable": true,
      "setable": false,
      "insights": false,
      "uiComponent": null
    },
    "meter_consumption_hour": {
      "type": "number",
      "title": {
        "en": "Consumption current hour",
        "no": "Forbruk gjeldende time"
      },
      "desc": {
        "en": "Consumption current hour.",
        "no": "Forbruk gjeldende time."
      },
      "min": 0,
      "decimals": 0,
      "units": {
        "en": "Wh",
        "no": "Wh"
      },
      "getable": true,
      "setable": false,
      "greyout": true,
      "insights": false,
      "icon": "/assets/consumption.svg"
    },
    "meter_consumption_maxmonth": {
      "type": "number",
      "title": {
        "en": "Level for grid capacity",
        "no": "Trinn for kapasitetsledd"
      },
      "desc": {
        "en": "Calculated level for grid capacity.",
        "no": "Beregnet trinn for kapasitetsledd."
      },
      "min": 0,
      "decimals": 0,
      "units": {
        "en": "Wh",
        "no": "Wh"
      },
      "getable": true,
      "setable": false,
      "greyout": true,
      "insights": false,
      "icon": "/assets/consumption.svg"
    },
    "meter_cost_lastmonth": {
      "type": "number",
      "title": {
        "en": "Utility last month",
        "no": "Strøm forrige måned"
      },
      "desc": {
        "en": "Shows utility cost last month",
        "no": "Viser strømkostnad forrige måned"
      },
      "min": 0,
      "decimals": 2,
      "units": {
        "en": "kr",
        "no": "kr"
      },
      "getable": true,
      "setable": false,
      "greyout": true,
      "insights": true,
      "icon": "/assets/utility.svg"
    },
    "meter_cost_month": {
      "type": "number",
      "title": {
        "en": "Utility this month",
        "no": "Strøm denne måned"
      },
      "desc": {
        "en": "Shows utility cost so far this month",
        "no": "Viser strømkostnad så langt denne måned"
      },
      "min": 0,
      "decimals": 2,
      "units": {
        "en": "kr",
        "no": "kr"
      },
      "getable": true,
      "setable": false,
      "greyout": true,
      "insights": true,
      "icon": "/assets/utility.svg"
    },
    "meter_cost_today": {
      "type": "number",
      "title": {
        "en": "Utility today",
        "no": "Strøm i dag"
      },
      "desc": {
        "en": "Shows utility cost so far this hour",
        "no": "Viser strømkostnad så langt denne timen"
      },
      "min": 0,
      "decimals": 2,
      "units": {
        "en": "kr",
        "no": "kr"
      },
      "getable": true,
      "setable": false,
      "greyout": true,
      "insights": true,
      "icon": "/assets/utility.svg"
    },
    "meter_cost_year": {
      "type": "number",
      "title": {
        "en": "Utility this year",
        "no": "Strøm dette året"
      },
      "desc": {
        "en": "Shows utility cost so far this year",
        "no": "Viser strømkostnad så langt dette året"
      },
      "min": 0,
      "decimals": 2,
      "units": {
        "en": "kr",
        "no": "kr"
      },
      "getable": true,
      "setable": false,
      "greyout": true,
      "insights": false,
      "uiComponent": null
    },
    "meter_cost_yesterday": {
      "type": "number",
      "title": {
        "en": "Utility yesterday",
        "no": "Strøm i går"
      },
      "desc": {
        "en": "Shows utility cost yesterday",
        "no": "Viser strømkostnad i går"
      },
      "min": 0,
      "decimals": 2,
      "units": {
        "en": "kr",
        "no": "kr"
      },
      "getable": true,
      "setable": false,
      "greyout": true,
      "insights": true,
      "icon": "/assets/utility.svg"
    },
    "meter_energy": {
      "type": "number",
      "title": {
        "en": "Energy",
        "no": "Energi"
      },
      "decimals": 3,
      "units": {
        "en": "kWh"
      },
      "getable": true,
      "setable": false,
      "insights": false,
      "uiComponent": null
    },
    "meter_grid_lastmonth": {
      "type": "number",
      "title": {
        "en": "Grid last month",
        "no": "Nettleie forrige måned"
      },
      "desc": {
        "en": "Shows grid cost last month",
        "no": "Viser nettleie forrige måned"
      },
      "min": 0,
      "decimals": 2,
      "units": {
        "en": "kr",
        "no": "kr"
      },
      "getable": true,
      "setable": false,
      "greyout": true,
      "insights": true,
      "icon": "/assets/grid.svg"
    },
    "meter_grid_month": {
      "type": "number",
      "title": {
        "en": "Grid this month",
        "no": "Nettleie denne måned"
      },
      "desc": {
        "en": "Shows grid cost so far this month",
        "no": "Viser nettleie så langt denne måned"
      },
      "min": 0,
      "decimals": 2,
      "units": {
        "en": "kr",
        "no": "kr"
      },
      "getable": true,
      "setable": false,
      "greyout": true,
      "insights": true,
      "icon": "/assets/grid.svg"
    },
    "meter_grid_today": {
      "type": "number",
      "title": {
        "en": "Grid today",
        "no": "Nettleie i dag"
      },
      "desc": {
        "en": "Shows grid cost so far this hour",
        "no": "Viser nettleie så langt denne timen"
      },
      "min": 0,
      "decimals": 2,
      "units": {
        "en": "kr",
        "no": "kr"
      },
      "getable": true,
      "setable": false,
      "greyout": true,
      "insights": true,
      "icon": "/assets/grid.svg"
    },
    "meter_grid_year": {
      "type": "number",
      "title": {
        "en": "Grid this year",
        "no": "Nettleie dette året"
      },
      "desc": {
        "en": "Shows grid cost so far this year",
        "no": "Viser nettleie så langt dette året"
      },
      "min": 0,
      "decimals": 2,
      "units": {
        "en": "kr",
        "no": "kr"
      },
      "getable": true,
      "setable": false,
      "greyout": true,
      "insights": false,
      "uiComponent": null
    },
    "meter_grid_yesterday": {
      "type": "number",
      "title": {
        "en": "Grid yesterday",
        "no": "Nettleie i går"
      },
      "desc": {
        "en": "Shows grid cost yesterday",
        "no": "Viser nettleie i går"
      },
      "min": 0,
      "decimals": 2,
      "units": {
        "en": "kr",
        "no": "kr"
      },
      "getable": true,
      "setable": false,
      "greyout": true,
      "insights": true,
      "icon": "/assets/grid.svg"
    },
    "meter_gridprice_incl": {
      "type": "number",
      "title": {
        "en": "Grid price",
        "no": "Nettleiepris"
      },
      "desc": {
        "en": "Gridprice current hour incl. taxes",
        "no": "Viser gjeldende pris for nettleie inkl. mva og avgifter"
      },
      "decimals": 5,
      "units": {
        "en": "NOK/kWh",
        "no": "kr/kWh"
      },
      "getable": true,
      "setable": false,
      "greyout": true,
      "insights": true,
      "icon": "/assets/pricetag.svg"
    },
    "meter_price_excl": {
      "type": "number",
      "title": {
        "en": "Utility price excl. taxes",
        "no": "Strømpris eksl. mva"
      },
      "desc": {
        "en": "Utility price current hour excl. taxes",
        "no": "Viser gjeldende spot strømpris eksl. mva"
      },
      "decimals": 5,
      "units": {
        "en": "NOK/kWh",
        "no": "kr/kWh"
      },
      "getable": true,
      "setable": false,
      "greyout": true,
      "insights": true,
      "uiComponent": null
    },
    "meter_price_incl": {
      "type": "number",
      "title": {
        "en": "Utility price",
        "no": "Strømpris"
      },
      "desc": {
        "en": "Utility price current hour incl. taxes and surcharges",
        "no": "Viser gjeldende strømpris inkl. mva og påslag"
      },
      "decimals": 5,
      "units": {
        "en": "NOK/kWh",
        "no": "kr/kWh"
      },
      "getable": true,
      "setable": false,
      "greyout": true,
      "insights": true,
      "icon": "/assets/pricetag.svg"
    },
    "meter_price_sum": {
      "type": "number",
      "title": {
        "en": "Sum utility and grid price",
        "no": "Sum strøm- og nettleiepris"
      },
      "desc": {
        "en": "Sum utility and grid price",
        "no": "Sum strøm- og nettleiepris"
      },
      "decimals": 5,
      "units": {
        "en": "NOK/kWh",
        "no": "kr/kWh"
      },
      "getable": true,
      "setable": false,
      "insights": false,
      "uiComponent": null
    },
    "meter_sum_current": {
      "type": "number",
      "title": {
        "en": "Current cost",
        "no": "Gjeldende kostnad"
      },
      "desc": {
        "en": "Current utility and grid cost per hour.",
        "no": "Gjeldende strøm- og nettleiekostnad pr. time."
      },
      "decimals": 2,
      "units": {
        "en": "NOK/h",
        "no": "kr/h"
      },
      "getable": true,
      "setable": false,
      "greyout": true,
      "insights": true,
      "icon": "/assets/odometer.svg"
    },
    "meter_sum_day": {
      "type": "number",
      "title": {
        "en": "Sum daily cost",
        "no": "Sum daglig kostnad"
      },
      "desc": {
        "en": "Sum daily cost.",
        "no": "Sum daglig kostnad."
      },
      "decimals": 2,
      "units": {
        "en": "NOK",
        "no": "kr"
      },
      "getable": true,
      "setable": false,
      "greyout": true,
      "insights": true,
      "icon": "/assets/dollar.svg"
    },
    "meter_sum_month": {
      "type": "number",
      "title": {
        "en": "Sum monthly cost",
        "no": "Sum månedlig kostnad"
      },
      "desc": {
        "en": "Sum monthly cost.",
        "no": "Sum månedlig kostnad."
      },
      "decimals": 2,
      "units": {
        "en": "NOK",
        "no": "kr"
      },
      "getable": true,
      "setable": false,
      "greyout": true,
      "insights": true,
      "icon": "/assets/monthlycost.svg"
    },
    "meter_sum_year": {
      "type": "number",
      "title": {
        "en": "Sum yearly cost",
        "no": "Sum årlig kostnad"
      },
      "desc": {
        "en": "Sum yearly cost.",
        "no": "Sum årlig kostnad."
      },
      "decimals": 2,
      "units": {
        "en": "NOK",
        "no": "kr"
      },
      "getable": true,
      "setable": false,
      "greyout": true,
      "insights": true,
      "icon": "/assets/dollar.svg"
    }
  }
}